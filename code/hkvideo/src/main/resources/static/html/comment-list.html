<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../res/layui/css/layui.css">
    <style>
        #userInfoDialog {
            padding: 20px;
            width: 400px;
            display: none; /*隐藏层*/
        }

        #userInfoDialog p {
            padding: 10px 0;
        }

        .text {
            max-height: 3.6em;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            line-height: 1.2em;
        }
    </style>


</head>
<body>
<div class="layui-fluid">
    <div class="layui-card">
        <div class="layui-card-header">歌手列表</div>
        <div class="layui-card-body">
            <table id="commentlist" lay-filter="commentFilter"></table>
        </div>
    </div>
</div>
<!--歌手详情对话框-->
<div id="singerDialog" style="padding:16px;display: none;">
    <table class="layui-table" lay-skin="nob">
        <tr>
            <td rowspan="3"><img id="headimg" src="" alt=""></td>
            <td><span id="sname" class="layui-font-22"></span></td>
        </tr>
        <tr>
            <td colspan="2">
                <span id="details"></span>
            </td>
        </tr>
        <tr>
            <td colspan="2" class="text">
                <span id="summary"></span>
            </td>
        </tr>
    </table>
    <hr>
    <h2 class="layui-padding-2">专辑 <span id="ablumCount"></span></h2>
    <div id="ablumTable" class="layui-col-space10">
    </div>
    <hr>
</div>

<script src="../res/layui/layui.js"></script>
<script>
    layui.use(function () {
        //加载获取table模块
        var table = layui.table;
        //加载获取layer弹层模块
        var layer = layui.layer;
        //加载jquery对象
        var $ = layui.jquery;

        //渲染评论数据表格
        table.render({
            elem: '#commentlist',
            url: '/comment/list',
            page: {
                limit: 5,
                limits: [5, 10, 15, 20],
                layout: ['limit', 'count', 'prev', 'page', 'next', 'skip'],
                theme: '#1E9FFF'
            },
            toolbar: '#toolbar',
            cols: [[
                {type: 'checkbox'},
                {type: 'numbers', title: "序号"},
                {field: 'content', title: '内容'},
                {
                    title: '评论时间',
                    templet: '<div>{{layui.util.toDateString(d.commentime,"yyyy-MM-dd HH:mm:ss")}}</div>'
                },
                {title: '评论人', templet: '<div>{{d.user.username}}</div>'},
                {title: '评论视频', templet: '<div>{{d.video.title}}</div>'},
                {title: '操作', toolbar: '#rowTools', width: 150}
            ]]
        })
    })
</script>

<!--自定义头工具栏-->
<script id="toolbar" type="text/html">
    <div class="layui-inline">
        <button class="layui-btn layui-btn-danger" lay-event="dels">
            <i class="layui-icon layui-icon-delete"></i>
            批量删除
        </button>
    </div>
</script>

<!--操作栏自定义模板-->
<script id="rowTools" type="text/html">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-normal layui-btn-xs" lay-event="details">
            <i class="layui-icon layui-icon-more"></i>
            详情
        </button>
        <button class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">
            <i class="layui-icon layui-icon-delete"></i>
            删除
        </button>
    </div>
</script>


</body>
</html>
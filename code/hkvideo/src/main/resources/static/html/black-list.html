<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../res/layui/css/layui.css">
    <style>
        #userInfoDialog {
            padding: 20px;
            width: 400px;
            display: none; /*隐藏层*/
        }

        #userInfoDialog p {
            padding: 10px 0;
        }
    </style>


</head>
<body>
<div class="layui-fluid">
    <div class="layui-card">
        <div class="layui-card-header">黑名单列表</div>
        <div class="layui-card-body">
            <table id="userlist" lay-filter="userFilter"></table>
        </div>
    </div>
</div>

<script src="../res/layui/layui.js"></script>
<script>
    layui.use(function () {
        //加载获取table模块
        var table = layui.table;
        //加载获取layer弹层模块
        var layer = layui.layer;
        //加载jquery对象
        var $ = layui.jquery;

        table.render({
            elem: '#userlist',
            url: '/user/black',
            toolbar: '#toolbar',
            page: {
                limit: 5,
                limits: [5, 10, 15, 20],
                layout: ['limit', 'count', 'prev', 'page', 'next', 'skip'],
                theme: '#1E9FFF'
            },
            cols: [[
                {type: 'checkbox'},
                {type: 'numbers', title: "序号"},
                {field: 'username', title:'用户名'},
                {title:'邮箱',templet: '<div>{{d.email ? d.email : "未设置"}}</div>'},
                {title:'手机号', templet: '<div>{{d.phone ? d.phone : "未设置"}}</div>'},
                {title:'生日', templet: '<div>{{d.birth ? layui.util.toDateString(d.birth,"yyyy-MM-dd") : "未设置"}}</div>'},
                {title: '操作', toolbar: '#rowTools', width: 250}
            ]]
        })
    })
</script>

<!--自定义头工具栏-->
<script id="toolbar" type="text/html">
    <div class="layui-inline">
        <button class="layui-btn layui-btn-danger" lay-event="dels">
            <i class="layui-icon layui-icon-delete"></i>
            批量删除
        </button>
        <div class="layui-input-inline" style="width: 200px">
            <input type="text" class="layui-input" id="keyword" placeholder="请输入查询关键字">
        </div>
        <button class="layui-btn layui-btn-normal" lay-event="search">
            <i class="layui-icon layui-icon-search"></i>
            搜索
        </button>
    </div>
</script>


<!--操作栏自定义模板-->
<script id="rowTools" type="text/html">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-normal layui-btn-xs" lay-event="details">
            <i class="layui-icon layui-icon-list"></i>
            详情
        </button>
        <button class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">
            <i class="layui-icon layui-icon-delete"></i>
            删除
        </button>
        {{# if(d.status === 0){ }}
        <button class="layui-btn layui-btn-warm layui-btn-xs" lay-event="updateStatus" data-status="1">
            <i class="layui-icon layui-icon-close-fill"></i>
            禁用
        </button>
        {{# }else{ }}
        <button class="layui-btn layui-btn-normal layui-btn-xs" lay-event="updateStatus" data-status="0">
            <i class="layui-icon layui-icon-ok-circle"></i>
            启用
        </button>
        {{# } }}
    </div>
</script>

<!--用户信息对话框-->
<div id="userInfoDialog">
    <table class="layui-table" lay-size="sm">
        <tr>
            <td>头像</td>
            <td><img id="headimg" src="" alt=""></td>
        </tr>
        <tr>
            <td>用户名</td>
            <td><span id="username"></span></td>
        </tr>
        <tr>
            <td>昵称</td>
            <td><span id="nickname"></span></td>
        </tr>
        <tr>
            <td>性别</td>
            <td><span id="sex"></span></td>
        </tr>
        <tr>
            <td>电话</td>
            <td><span id="phone"></span></td>
        </tr>
        <tr>
            <td>生日</td>
            <td><span id="birth"></span></td>
        </tr>
        <tr>
            <td>注册时间</td>
            <td><span id="regtime"></span></td>
        </tr>
        <tr>
            <td>个性签名</td>
            <td><span id="mark"></span></td>
        </tr>
    </table>
</div>

</body>
</html>